

<!DOCTYPE html>
<br lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DOM</title>


</head>


<body>

    <style>

        .container input{
            background-color: rgb(194, 135, 135);

        }

    </style>

<script>

    //  function calcum() {
        
    //     num1 = document.getElementById("firstnum").value 
    //     num12 = document.getElementById("secondnum").value 
    //     const element=document.getElementById('finalsum')

    //     /// instead of logic on frontend we hit the backend 
    //     fetch("http://localhost:3000/sum?a="+a+"&b="+b).then(function(response){
    //         console.log(response)
    //     })

    //     ////////// this is logic on frontend 
    //     // const sum = num1 + num12

    //     element.innerHTML = parseInt(num1) + parseInt(num12)
    //     // console.log(element)
    // }
    
    let timeout;
    function debouncer() {
        /// call calcum only if calcum isnt called for 100ms
        // has to delay the call to calcum function unit it has not been called for 100ms and been called for once
        // if during this 100ms if debouncer got called then close the timer and start a new timer 
        // how to cancel a clock???? 
        // clearTimeout

        clearTimeout(timeout); /// any call that was running beforehand will get clear and new call below will start  
        /// it only clears running timers 


        timeout = setTimeout(function () {
            calcum()
        },1000)
    }


    async function calcum() {
        a = document.getElementById("firstnum").value 
        b = document.getElementById("secondnum").value 
        const element=document.getElementById('finalsum')

        // const response = await fetch("https://sum-server.100xdevs.com/sum?a="+a+"&b="+b)
        const response = await fetch("http://localhost:3000/sum?a="+a+"&b="+b)

        console.log(response)
        const ans  = response.text()
        element.innerHTML = ans
        console.log(ans)
        
    }


    </script>


    
<div class="container">
        <input id="firstnum" type="text" placeholder="first number">
    </div>

<br></br>


<div class="container">
    <input id="secondnum" type="text" placeholder="first number">
</div>
<br></br>


    <button onclick="calcum()" type="submit">calculate</button>
<br></br>

    <div id="finalsum">
        
    </div>



</body>
</html>